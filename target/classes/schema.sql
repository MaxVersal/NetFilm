drop table if exists users,film,genre,film_likes,status,friends,MPA, film_genre;

create table if not exists  genre (
                                      id integer generated by default as identity primary key,
                                      NAME varchar
);
create table if not exists  status(
                                      status_id integer generated by default as identity primary key,
                                      NAME varchar
);
create table if not exists MPA (
                                   rating_id int generated by default as identity primary key,
                                   name varchar
);

create table if not exists users (
    id integer generated by default as identity primary key,
    email varchar,
    login varchar,
    name varchar,
    birthday timestamp
);
create table if not exists film(
    id integer generated by default as identity primary key,
    name varchar,
    description varchar,
    release_date timestamp,
    duration int,
    mpa int references MPA(rating_id)
);
create table if not exists film_genre(
    film_id integer references film(id),
    genre_id integer references genre(id)
);
create table if not exists  film_likes(
    film_id integer references film(id),
    user_id integer references users(id)
);
create table if not exists  friends(
    user_id integer references users(id),
    friend_id integer references users(id),
    is_confirmed integer references status(status_id)
);
